(function(b){var a=function(d){this._options={checkOnLoad:false,resetOnEnd:false,loopCheckTime:50,loopMaxNumber:5,baitClass:"pub_300x250 pub_300x250m pub_728x90 text-ad textAd text_ad text_ads text-ads text-ad-links",baitStyle:"width: 1px !important; height: 1px !important; position: absolute !important; left: -10000px !important; top: -1000px !important;",debug:false};this._var={version:"3.2.1",bait:null,checking:false,loop:null,loopNumber:0,event:{detected:[],notDetected:[]}};if(d!==undefined){this.setOption(d)}var c=this;var e=function(){setTimeout(function(){if(c._options.checkOnLoad===true){if(c._options.debug===true){c._log("onload->eventCallback","A check loading is launched")}if(c._var.bait===null){c._creatBait()}setTimeout(function(){c.check()},1)}},1)};if(b.addEventListener!==undefined){b.addEventListener("load",e,false)}else{b.attachEvent("onload",e)}};a.prototype._options=null;a.prototype._var=null;a.prototype._bait=null;a.prototype._log=function(d,c){console.log("[BlockAdBlock]["+d+"] "+c)};a.prototype.setOption=function(c,f){if(f!==undefined){var d=c;c={};c[d]=f}for(var e in c){this._options[e]=c[e];if(this._options.debug===true){this._log("setOption",'The option "'+e+'" he was assigned to "'+c[e]+'"')}}return this};a.prototype._creatBait=function(){var c=document.createElement("div");c.setAttribute("class",this._options.baitClass);c.setAttribute("style",this._options.baitStyle);this._var.bait=b.document.body.appendChild(c);this._var.bait.offsetParent;this._var.bait.offsetHeight;this._var.bait.offsetLeft;this._var.bait.offsetTop;this._var.bait.offsetWidth;this._var.bait.clientHeight;this._var.bait.clientWidth;if(this._options.debug===true){this._log("_creatBait","Bait has been created")}};a.prototype._destroyBait=function(){b.document.body.removeChild(this._var.bait);this._var.bait=null;if(this._options.debug===true){this._log("_destroyBait","Bait has been removed")}};a.prototype.check=function(c){if(c===undefined){c=true}if(this._options.debug===true){this._log("check","An audit was requested "+(c===true?"with a":"without")+" loop")}if(this._var.checking===true){if(this._options.debug===true){this._log("check","A check was canceled because there is already an ongoing")}return false}this._var.checking=true;if(this._var.bait===null){this._creatBait()}var d=this;this._var.loopNumber=0;if(c===true){this._var.loop=setInterval(function(){d._checkBait(c)},this._options.loopCheckTime)}setTimeout(function(){d._checkBait(c)},1);if(this._options.debug===true){this._log("check","A check is in progress ...")}return true};a.prototype._checkBait=function(c){var d=false;if(this._var.bait===null){this._creatBait()}if(b.document.body.getAttribute("abp")!==null||this._var.bait.offsetParent===null||this._var.bait.offsetHeight==0||this._var.bait.offsetLeft==0||this._var.bait.offsetTop==0||this._var.bait.offsetWidth==0||this._var.bait.clientHeight==0||this._var.bait.clientWidth==0){d=true}if(b.getComputedStyle!==undefined){var e=b.getComputedStyle(this._var.bait,null);if(e&&(e.getPropertyValue("display")=="none"||e.getPropertyValue("visibility")=="hidden")){d=true}}if(this._options.debug===true){this._log("_checkBait","A check ("+(this._var.loopNumber+1)+"/"+this._options.loopMaxNumber+" ~"+(1+this._var.loopNumber*this._options.loopCheckTime)+"ms) was conducted and detection is "+(d===true?"positive":"negative"))}if(c===true){this._var.loopNumber++;if(this._var.loopNumber>=this._options.loopMaxNumber){this._stopLoop()}}if(d===true){this._stopLoop();this._destroyBait();this.emitEvent(true);if(c===true){this._var.checking=false}}else{if(this._var.loop===null||c===false){this._destroyBait();this.emitEvent(false);if(c===true){this._var.checking=false}}}};a.prototype._stopLoop=function(c){clearInterval(this._var.loop);this._var.loop=null;this._var.loopNumber=0;if(this._options.debug===true){this._log("_stopLoop","A loop has been stopped")}};a.prototype.emitEvent=function(c){if(this._options.debug===true){this._log("emitEvent","An event with a "+(c===true?"positive":"negative")+" detection was called")}var e=this._var.event[(c===true?"detected":"notDetected")];for(var d in e){if(this._options.debug===true){this._log("emitEvent","Call function "+(parseInt(d)+1)+"/"+e.length)}if(e.hasOwnProperty(d)){e[d]()}}if(this._options.resetOnEnd===true){this.clearEvent()}return this};a.prototype.clearEvent=function(){this._var.event.detected=[];this._var.event.notDetected=[];if(this._options.debug===true){this._log("clearEvent","The event list has been cleared")}};a.prototype.on=function(c,d){this._var.event[(c===true?"detected":"notDetected")].push(d);if(this._options.debug===true){this._log("on",'A type of event "'+(c===true?"detected":"notDetected")+'" was added')}return this};a.prototype.onDetected=function(c){return this.on(true,c)};a.prototype.onNotDetected=function(c){return this.on(false,c)};b.BlockAdBlock=a;if(b.blockAdBlock===undefined){b.blockAdBlock=new a({checkOnLoad:true,resetOnEnd:true})}})(window);