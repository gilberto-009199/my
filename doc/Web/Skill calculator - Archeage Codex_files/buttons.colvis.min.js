(function(a){"function"===typeof define&&define.amd?define(["jquery","datatables.net","datatables.net-buttons"],function(b){return a(b,window,document)}):"object"===typeof exports?module.exports=function(c,b){c||(c=window);if(!b||!b.fn.dataTable){b=require("datatables.net")(c,b).$}b.fn.dataTable.Buttons||require("datatables.net-buttons")(c,b);return a(b,c,c.document)}:a(jQuery,window,document)})(function(b,f,c,a){f=b.fn.dataTable;b.extend(f.ext.buttons,{colvis:function(e,d){return{extend:"collection",text:function(g){return g.i18n("buttons.colvis","Column visibility")},className:"buttons-colvis",buttons:[{extend:"columnsToggle",columns:d.columns}]}},columnsToggle:function(e,d){return e.columns(d.columns).indexes().map(function(g){return{extend:"columnToggle",columns:g}}).toArray()},columnToggle:function(e,d){return{extend:"columnVisibility",columns:d.columns}},columnsVisibility:function(e,d){return e.columns(d.columns).indexes().map(function(g){return{extend:"columnVisibility",columns:g,visibility:d.visibility}}).toArray()},columnVisibility:{columns:a,text:function(e,d,g){return g._columnText(e,g.columns)},className:"buttons-columnVisibility",action:function(e,d,h,g){e=d.columns(g.columns);d=e.visible();e.visible(g.visibility!==a?g.visibility:!(d.length&&d[0]))},init:function(e,d,h){var g=this,d=e.column(h.columns);e.on("column-visibility.dt"+h.namespace,function(j,i,l,k){l===h.columns&&g.active(k)}).on("column-reorder.dt"+h.namespace,function(i,k,j){1===e.columns(h.columns).count()&&("number"===typeof h.columns&&(h.columns=j.mapping[h.columns]),i=e.column(h.columns),g.text(h._columnText(e,h.columns)),g.active(i.visible()))});this.active(d.visible())},destroy:function(e,d,g){e.off("column-visibility.dt"+g.namespace).off("column-reorder.dt"+g.namespace)},_columnText:function(e,d){var g=e.column(d).index();return e.settings()[0].aoColumns[g].sTitle.replace(/\n/g," ").replace(/<.*?>/g,"").replace(/^\s+|\s+$/g,"")}},colvisRestore:{className:"buttons-colvisRestore",text:function(d){return d.i18n("buttons.colvisRestore","Restore visibility")},init:function(e,d,g){g._visOriginal=e.columns().indexes().map(function(h){return e.column(h).visible()}).toArray()},action:function(g,e,i,h){e.columns().every(function(d){d=e.colReorder&&e.colReorder.transpose?e.colReorder.transpose(d,"toOriginal"):d;this.visible(h._visOriginal[d])})}},colvisGroup:{className:"buttons-colvisGroup",action:function(g,e,i,h){e.columns(h.show).visible(!0);e.columns(h.hide).visible(!1)},show:[],hide:[]}});return f.Buttons});